{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h1 class="text-center">Update Profile</h1>

  <!-- Display only error messages -->
  {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
      {% for category, message in messages %}
        {% if category == 'danger' %}
          <div class="alert alert-danger">
            {{ message }}
          </div>
        {% endif %}
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="POST" action="{{ url_for('profile.update_profile') }}">
    <!-- First Name -->
    <div class="form-group">
      <label for="first_name">First Name</label>
      <input
        type="text"
        class="form-control"
        id="first_name"
        name="first_name"
        value="{{ first_name }}"
        required
      >
    </div>

    <!-- Last Name -->
    <div class="form-group">
      <label for="last_name">Last Name</label>
      <input
        type="text"
        class="form-control"
        id="last_name"
        name="last_name"
        value="{{ last_name }}"
        required
      >
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        value="{{ email }}"
        required
      >
    </div>

    <!-- Address -->
    <div class="form-group">
      <label for="address">Address</label>
      <textarea
        class="form-control"
        id="address"
        name="address"
      >{{ address }}</textarea>
    </div>

    <!-- Summary -->
    <div class="form-group">
      <label for="summary">Summary</label>
      <textarea
        class="form-control"
        id="summary"
        name="summary"
      >{{ summary }}</textarea>
    </div>

    <!-- Balance -->
    <div class="form-group">
      <label for="balance">Balance</label>
      <input
        type="number"
        step="0.01"
        class="form-control"
        id="balance"
        name="balance"
        value="{{ balance }}"
      >
    </div>

    <!-- Password -->
    <div class="form-group">
      <label for="password">New Password (leave blank to keep current password)</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
      >
    </div>

    <button type="submit" class="btn btn-success">Save Changes</button>
    <a href="{{ url_for('profile.profile') }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}